# Ch1 데이터베이스 시스템

## 1️⃣ 데이터베이스와 데이터베이스 시스템

- 데이터, 정보, 지식
    - 데이터 : 관찰의 결과로 나타난 정량적인 실제 값
    - 정보 : 데이터에 의미를 부여한 것
    - 지식 : 사물이나 현상에 대한 이해
    
    <aside>
    💡 데이터, 정보, 지식이 더해져 미래의 의사결정 및 경영 전략에 사용된다.
    
    </aside>
    
- 데이터 베이스 시스템은 데이터의 **검색과 변경 작업**을 주로 수행한다.
    - 여기서 변경이란 시간에 따라 변하는 데이터 값을 데이터베이스에 반영하기 위해 수행하는 삽입, 삭제, 수정 등의 작업을 말한다.
    - 검색과 변경의 빈도에 따라 시스템 구축의 난이도가 결정된다.
        - 변경의 빈도가 높고 검색의 빈도가 높을 수록 데이터베이스 구축이 어렵다.
        - 저장된 데이터의 양이 많고, 실시간 검색이 많은 분야일수록 활용도가 높다.
- 데이터베이스의 개념
    1. **통합된 데이터** : 여러 곳에서 사용하던 데이터를 통합하여 하나로 저장한 데이터를 의미한다. 중복을 최소화함으로써 중복 저장으로 인한 데이터 불일치 현상을 없애는 것이 중요하다. 
    2. **저장된 데이터** : 문서로 보관된 것이 아닌 컴퓨터 저장장치에 저장된 데이터를 의미한다. 눈으로 직접 볼 수는 없지만 컴퓨터 프로그램을 이용하여 디스플레이하거나 인쇄물로 출력할 수 있다. 
    3. **운영 데이터** : 조직의 목적을 위해 사용되는 데이터를 의미한다. 업무를 위해 검색을 할 목적으로 저장된 데이터이다. 목적에 관계없이 저장된 데이터나 임시로 저장된 데이터는 속하지 않는다. 
    4. **공용 데이터** : 공동으로 사용되는 데이터를 의미한다. 어느 순간이라도 둘 이상의 프로그램 또는 여러 사람이 동시에 사용할 수 있다. 
- 데이터베이스의 특징
    1. **실시간 접근성** : 데이터베이스는 실시간으로 서비스 된다. 여기서 실시간이란 사용자가 요청하는 순간에 실제 데이터를 서비스 하는 것을 말한다.
    2. **계속적인 변화** : 데이터 값은 시간에 따라 항상 바뀐다. 데이터베이스는 삽입, 삭제, 수정 등의 작업으로 바뀐 데이터 값을 저장한다.
    3. **동시 공유** : 데이터베이스는 서로 다른 업무 또는 여러 사용자에게 동시에 공유된다. 데이터베이스에 접근하는 사용자 데이터 요청 프로그램이 동시에 여러 개 있다는 의미이다.
    4. **내용에 따른 참조** : 데이터 베이스에 저장된 데이터는 물리적인 위치가 아니라 데이터 값에 따라 참조된다. 사용자가 원하는 데이터를 얻기 위해 데이터 값을 사용하여 조건을 제시하면 데이터베이스는 이에 해당하는 데이터를 검색해준다. 
- 데이터베이스 시스템의 구성
    - 데이터베이스 시스템은 각 조직에서 사용하던 데이터를 모아서 통합하고 서로 공유하여 생기는 장점을 이용하는 시스템이다.
        - DBMS(데이터베이스 관리 시스템) : 사용자와 데이터베이스를 연결시켜주는 소프트웨어로 주기억장치에 상주한다.
        - 데이터베이스 : 데이터를 모아둔 토대를 말한다. 물리적으로는 컴퓨터 내부의 하드디스크에 저장된다.
        - 데이터 모델 : 눈에 보이지 않는 논리적인 개념이다. 데이터가 저장되는 스타일을 나타낸다.

## 2️⃣ 데이터베이스 시스템의 발전

- 정보 시스템의 발전
    - 파일  시스템 : 데이터를 파일 단위로 파일 서버에 저장한다. 단점으로는 데이터가 중복 저장이 될 수 있고 동시에 파일을 다루기 때문에 일관성이 훼손될 수 있다.
    - 데이터베이스 시스템 : DBMS서버를 도이하여 데이터를 통합관리 하는 시스템이다. 클라이언트 - 서버 시스템으로 DBMS 서버가 파일을 다루며 데이터의 일관성 유지, 복구, 동시 접근 제어 등의 기능을 수행한다 . 데이터를 저장하기 전에 설계 과정을 거치기 때문에 데이터 중복을 줄이고 데이터를 표준화하며 **무결성을 유지**한다.
    - 웹 데이터베이스 시스템 : 데이터베이스를 웹 브라우저에서 사용할 수 있도록 서비스하는 시스템이다. 클라이언트는 웹 서버에 접속한 후 데이터를 요청하며, 웹 서버는 DBMS 서버에 요청을 전달한다. 요청된 데이터는 사용자에게 전달된다.
    - 분산 데이터베이스 시스템 : 여러곳에 분산된 DBMS 서버를 연결하여 운영하는 시스템으로 대규모의 응용 시스템에 사용된다.

## 3️⃣ 파일 시스템과 DBMS

- 데이터를 저장하는 방법
    - 프로그램 내부 : 데이터를 프로그램의 변수에 치환하여 저장하는 방법이다. 데이터에 변경이 일어날 경우 서비스를 중단시키고 수정해야하는 문제점이 존재한다.
    - 파일 시스템 : 컴퓨터의 디스크에 저장하는 방법이다. 프로그램 내부를 사용할 때 발생하는 문제점은 해결된다 . 하지만 데이터 구조가 바뀌고, 같은 파일을 두 개의 프로그램이 공유하는 등 문제점이 존재한다.
        - 데이터 구조가 바뀌게 되면, 당연히 데이터 구조를 다시 정의해야 하고 컴파일된 프로그램을 다시 시작해야 하는데, 이럴 경우 검색 서비스를 중단해야 한다.
        - 같은 파일을 두개의 프로그램이 공유하게 될 경우 실행 순서에 따라 결과값이 달라지는 문제점이 발생한다.
    - DBMS(Database Management System) : 데이터 정의와 데이터 값을 DBMS라는 소프트웨어가 관리하는 방법이다. 데이터 정의, 데이터 변경 등의 작업을 할 수 있는 사용자 인터페이스를 갖고 있기 때문에 앞선 두가지 문제점을 모두 해결 할 수 있다.
- 파일시스템과 DBMS의 비교
    
    
    | 구분 | 파일 시스템 | DBMS |
    | --- | --- | --- |
    | 데이터 정의 및 저장  | 데이터 정의 : 응용프로그램
    데이터 저장 : 파일 시스템 | 데이터 정의 : DBMS
    데이터 저장 : 데이터베이스 |
    | 데이터 접근 방법 | 응용 프로그램이 파일에 직접 접근 | 응용 프로그램이 DBMS에 파일 접근을 요청 |
    | 사용 언어 | 자바, C++, C | 자바, C++, C , SQL |
    | CPU/ 주기억장치 사용 | 적음 | 많음 |
- DBMS의 장점
    
    
    | 구분 | 파일 시스템 | DBMS |
    | --- | --- | --- |
    | 데이터 중복 | 데이터를 파일 단위로 저장하므로 중복가능성이 높다 | DBMS를 이용하여 데이터를 공유하기 때문에 중복가능성이 낮다 |
    | 데이터 일관성 | 데이터의 중복 저장으로 일관성이 결여됨 | 중복 제거로 데이터의 일관성이 유지된다. |
    | 데이터 독립성 | 데이터 정의와 프로그램의 독립성 유지 불가능 | 데이터 정의와 프로그램의 독립성 유지 가능 |
    | 관리 기능 | 보통 | 데이터 복구, 보안, 동시성 제어, 데이터 관리 기능 등을 수행 |
    | 프로그램 개발 생산성 | 나쁨 | 짧은 시간에 큰 프로그램을 개발할 수 있음 |
    | 기타 장점 | 별도의 소프트웨어 설치가 필요 없음 | 데이터 무결성 유지, 데이터 표준 준수 용이 |
    - 파일 시스템은 데이터가 저장될 파일을 정의하고 직접 관리한다. 그렇기 때문에 파일에 저장된 데이터를 서로 공유하지 않기 때문에(서로 업무가 다르기 때문에) 데이터가 중복 저장될 위험이 있다.
    - DBMS는데이터베이스 정의 시 관련 정보를 한 번만 정의하여 공유하기 때문에 데이터의 일관성 유지가 가능하다.

## 4️⃣ 데이터베이스 시스템의 구성

- 데이터베이스 시스템은 데이터베이스, 데이터베이스 관리 시스템(DBMS), 데이터 모델 3가지로 구성된다.
- 데이터 정의어 : CREATE, ALTER, DROP 문과 같이 DBMS에 저장된 테이블 구조를 정의한다
- 데이터 조작어 : SELECT, INSERT, DELETE, UPDATE문과 같이 데이터를 검색, 삽입, 삭제, 수정하는데 사용한다.
- 데이터 제어어 : GRANT, REVOKE 문과 같이 데이터의 사용 권한을 관리한다.
- SQL의 핵심은 데이터 조작어 중 데이터를 검색하는 **질의(query)문**이다.
    
    <aside>
    💡 가격(price)이 10.000원 이상인 도서이름(bookname)과 출판사(publisher)를 검색하시오.
    : SELECT bookname, publisher 
     FROM Book
     WHERE price ≥ 10000;
    
    </aside>
    
- 데이터베이스 사용자
    - 일반사용자 : 데이터를 다루는 업무를 하는 사람이다. 보통 특별한 지식 없이 데이터베이스에 접근하여 데이터의 검색, 삽입, 삭제, 수정 작업을 한다. 따라서 일반 사용자는 자신이 DBMS를 이용하는지 알지 못한다.
    - 응용 프로그래머 : 일반 사용자가 데이터베이스 시스템을 사용할 수 있도록 프로그램을 만드는 역할을 한다. 프로그래밍 언어와 SQL을 사용하여 사용자 인터페이스와 데이터를 관리하는 응용 로직을 개발한다. (데이터베이스 프로그래머라고도 불린다.)
    - SQL 사용자 : SQL을 사용하여 업무를 처리하는 it 부서의 담당자이다. 응용 프로그램으로 구현되어 있지 않은 업무를 SQL을 사용하여 처리한다.
    - 데이터베이스 관리자(DBA) : 데이터베이스 시스템을 총괄하는 사람이다. 데이터 설계, 구현, 유지보수의 전 과정을 담당한다. 또한 사용자 통제, 보안, 성능 모니터링, 데이터 전체 파악 및 관리 등 제반 업무를 맡는다.
- DBMS : 사용자와 데이터베이스를 연결시켜주는 소프트웨어로, 데이터베이스 사용자가 데이터베이스를 생성, 공유, 관리할 수 있도록 지원해주는 총체적인 역할을 한다.
    
    
    | 기능  | 설명 |
    | --- | --- |
    | 데이터 정의 | 데이터의 구조를 정의하고 데이터 구조에 대한 삭제 및 변경 기능을 수행 |
    | 데이터 조작  | 조작하는 소프트웨어(응용 프로그램)가 요청하는 데이터의 검색, 삽입, 수정, 삭제 작업을 지원 |
    | 데이터 추출  | 사용자가 조회하는 데이터 혹은 응용 프로그램의 데이터를 추출 |
    | 데이터 제어 | 데이터베이스 사용자를 생성하고 모니터링하며 접근을 제어.
    백업과 회복, 동시성 제어 등의 기능을 지원 |
- 데이터 모델 : 데이터 베이스 시스템에서 데이터를 저장하는 이론적인 방법이다.  가장 많이 사용되는 데이터 모델은 **관계 데이터 모델**이다.
    - 데이터 모델을 구분하는 가장 큰 기준은 데이터들 간에 **관계를 표현하는 방법**이다.
        1. 포인터 사용 : 계층 데이터 모델, 네트워크 데이터 모델. 
            1. 장점 : 데이터를 직접 찾아갈 수 있어서 프로그램 속도가 빠르다.
            2. 단점 : 포인터를 다루는 프로그래밍을 해야하기 때문에 응용 프로그램 개발 속도 면에서는 느리다.
        2. **속성 값 사용** : **관계 데이터 모델**. 직접적인 포인터가 없고 값을 이용하여 관계를 찾는다.
            1. 장점: 프로그램 개발이 빠르다
            2. 단점 : 검색하는데 속도가 걸린다
        3. 객체 식별자 사용 : 객체 데이터 모델. 고유 식별자인 오브젝트 아이디를 학생 테이블에 저장하는 방법이다. 

## 4️⃣ 데이터베이스의 개념적 구조

- 3단계 데이터베이스 구조 : ANSI에서는 데이터베이스를 개념적으로 이해하기 위해 데이터베이스 구조 안을 만들었다. 데이터베이스를 보는 관점을 세 개의 단계로 분리한 것이다. 외부단계, 개념 단계, 내부 단계로 나누어진다.
    - 각 단계를 설명하는데 사용되는 용어 ‘스키마’는 조직이나 구조를 의미한다.
    - 외부단계 : 일반 사용자나 응용 프로그래머가 접근하는 계층이다. 외부 단계는 여러개 존재할 수도 있다. 서브 스키마라고도 불리며 뷰의 개념이다.
    - 개념 단계 : 전체 데이터베이스의 정의를 의미한다. 통합 조직별로 하나만 존재하며 DBA가 관리한다. 하나의 데이터베이스에는 하나의 개념 스키마가 있다.
    - 내부 단계 : 물리적 저장장치에 데이터베이스가 실제로 저장되는 방법을 표현한다. 내부 스키마는 하나이며, 인덱스, 데이터 레코드의 배치방법 , 데이터 압축 등 관련 사항이 포함된다.
    - DBMS는 매핑을 통하여 각 단계 간 대응 관계를 정의한다. 매핑은 개념 스키마의 어느 부분이 외부 스키마가 되는지 또는 개념 스키마가 어떤 물리적인 표현을 통하여 내부스키마가 되는지에 따라 두가지로 나뉜다.
        - 외부/개념 매핑 : 사용자의 외부 스키마와 개념 스키마 간의 매핑으로 외부 스키마의 데이터가 개념 스키마의 어느 부분에 해당되는지 대응시킨다.
        - 개념/내부 매핑 : 개념 스키마의 데이터가 내부 스키마의 물리적 장치 어디에 어떤 방법으로 저장되는지 대응시킨다.
- 데이터 독립성 : 3단계 데이터베이스 구조의 특징은 데이터 독립성이다. 데이터 독립성은 하위 단계의 내용을 추상화하여 상위 단계에 그 세부 사항을 숨김으로써 한 단계 내의 변경에 대해서 다른 단계와 상호 간섭이 없도록 하는 것이다.
    - 논리적 데이터 독립성 : 외부 단계와 개념 단계 사이의 독립성으로, 개념 스키마가 변경되어도 외부 스키마에는 영향을 미치지 않도록 지원한다. 논리적 구조가 변경되어도 응용 프로그램에는 영향이 없도록 하는 개념이다.
    - 물리적 데이터 독립성 : 개념 단계와 내부 단계 사이의 독립성으로 저장장치 구조 변경과 같이 내부 스키마가 변경되어도 개념 스키마에 영향을 미치지 않도록 지원한다.

## 2- tier, 3 - tier

- 2 - tier : 클라이언트 - 서버 구조로 클라이언트가 직접 DB에 접속하여 자원을 활용한다.
    - 클라이언트에서 DB를 처리하기 때문에 보안에 취약하다. 거의 모든 비즈니스 로직을 클라이언트에서 처리하기 때문에 속도면에서 문제가 생긴다.
- 3 - tier : 클라이언트- 서버/애플리케이션 - DB 구조이다. 클라이언트가 웹 서버를 경유하여 DB에 접근하고 서버가 데이터 관리 역할을 하지 않는다. DB서버를 별도로 구성한다.
    - 비즈니스 로직을 수정시 클라이언트를 수정할 필요가 없고 비즈니스 로직을 모듈화시켜 재사용할 수 있다.