# chapter 02 관계 데이터 모델

# 01 관계 데이터 모델의 개념

1. 릴레이션
    
    행과 열로 구성된 테이블을 말한다.
    
    첫 번째 관계 : '릴레이션 내 데이터들의 관계'로 관련 있는 실제 데이터들의 집합으로 이루어진다. 
    
    두 번째 관계 : '릴레이션 간의 관계'로 한 릴레이션에서 다른 릴레이션으로 식별 가능한 값을 이용하여 연결한다.
    
2. 릴레이션 스키마와 인스턴스
    
    릴레이션은 스키마와 인스턴스로 이루어진다.
    
    스키마 : 릴레이션이 어떻게 구성되는지 어떤 정보를 담고 있는지에 대한 기본적인 구조를 정의한다. 테이블의 첫 행인 헤더에 나타낸다.
    
    인스턴스 : 스키마에 따라 저장되는 데이터의 집합
    
3. 릴레이션의 특징
    1. 속성은 단일 값을 가진다.
    2. 속성은 서로 다른 이름을 가진다.
    3. 한 속성의 값은 모두 같은 도메인 값을 가진다.
    4. 속성의 순서는 상관없다.
    5. 릴레이션 내의 중복된 투플은 허용하지 않는다.
    6. 투플의 순서는 상관없다.
4. 관계 데이터 모델
    
    릴레이션에 대한 제약조건과 관계 연산을 위한 관계대수를 정의한다.
    

# 02 무결성 제약조건

데이터를 저장하는 데 있어서 데이터베이스는 일관성을 유지하고 중복을 제거하는 등 데이터의 신뢰도를 유지해야 한다. 따라서 데이터의 삽입, 삭제 수정 시 여러 가지 제약조건이 따른다.

1. 키
- 슈퍼키 : 투플을 유일하게 식별할 수 있는 하나의 속성 혹은 속성의 집합이다.
- 후보키 : 투플을 유일하게 식별할 수 있는 하나의 속성 혹은 속성의 집합으로, 속성의 최소 집합이다.
- 기본키 : 여러 후보키 중 하나를 선정하여 대표로 삼는 키를 말한다.
- 대체키 : 기본키로 선정되지 않은 후보키를 말한다.
- 대리키 : 일련번호 같은 가상의 속성을 만들어 기본키로 삼는 것을 말한다.
- 외래키 : 다른 릴레이션의 기본키를 참조하는 속성을 말한다.
1. 무결성 제약조건
    
    데이터 무결성은 데이터베이스에 저장된 데이터의 일관성과 정확성을 지키는 것을 말한다.
    
- 도메인 무결성 제약조건 : 모든 투플은 릴레이션 스키마에 정의된 각 속성의 도메인에 지정된 값만을 가져야 한다.
- 개체 무결성 제약조건 : 기본키는 NULL 값을 가져서는 안 되며, 릴레이션 내에 오직 하나의 값만 존재해야 한다.
- 참조 무결성 제약조건 : 자식 릴레이션의 외래키는 부모 릴레이션의 기본키와 속성의 도메인이 동일해야 하며, 자식 릴레이션의 값 변경 시 부모 릴레이션의 값에 제약을 받는다.
1. 무결성 제약조건의 수행
    
    데이터가 변경될 때마다 제약조건의 준수 여부를 확인해야 한다.
    

# 03 관계대수

1. 관계대수
    
    릴레이션에서 원하는 결과를 얻기 위해 수학의 대수와 같은 연산을 이용하여 질의하는 방법을 기술하는 언어이다.
    
    관계대수 연산자
    
    - 순수 관계 연산 : 셀렉션, 프로젝션, 조인, 디비전, 개명
    - 일반 집합 연산 : 합집합, 차집합, 교집합, 카티전 프로덕트
2. 셀렉션과 프로젝션
    
    셀렉션 : 릴레이션의 투플을 추출하기 위한 연산
    프로젝션 : 릴레이션의 속성을 추출하기 위한 연산
    
3. 집합 연산
    
    수학의 집합 연산과 동일한 연산으로 합집합, 교집합, 차집합, 카티전 프로덕트 등이 있다.
    
    - 합집합 : 두 개의 릴레이션을 합하여 하나의 릴레이션을 반환한다.
    - 교집합 : 두 릴레이션이 공통으로 가지고 있는
    투플을 반환한다.
    - 차집합 : 첫 번째 릴레이션에는 속하고 두 번째 릴레이션에는 속하지 않는 투플을 반환한다.
    - 카티전 프로덕트 : 두 릴레이션을 연결시켜 하나로 합칠 때 사용한다.
4. 조인
    
    두 릴레이션의 공통속성을 기준으로 속성 값이 같은 투플을 수평으로 결합하는 연산이다.
    
    - 세타조인 : 두 릴레이션의 속성 값을 비교해서 조건(=, ≠, ≤, ≥, <, >)에 만족하는 투플을 반환한다.
    - 동등조인: 세타조인에서 = 연산자를 사용한 조인을 말한다.
    - 자연조인 : 조인에 참여한 속성이 두 번 나오지 않도록 중복된 속성을 제거한 결과를 반환한다.
    - 세미조인 : 자연조인을 한 후 두 릴레이션 중 한쪽 릴레이션의 결과만 반환한다.
    - 외부조인 : 자연조인 시 조인에 실패한 투플을 모두 보여주되 값이 없는 대응 속성은 NULL 값을 채워서 반환한다.
5. 디비전
    
    속성 A와 B로 이루어진 릴레이션 R과 속성 B로 이루어진 릴레이션 S의 디비전 연산은, 릴레이션 S의 속성 B 값과 서로 동일하게 대응하는 릴레이션 R의 속성 A의 투플들을 반환한다.