# Ch2 관계 데이터 모델

## 1️⃣ 관계 데이터 모델의 개념

- 릴레이션 : 행과 열로 구성된 테이블.
    - 릴레이션 내에서 생성되는 관계 : 실제 데이터들의 집합
    - 릴레이션 간에 생성되는 관계 : 한 릴레이션에서 다른 릴레이션으로 식별 가능한 값을 이용
- 스키마 : 릴레이션이 어떻게 구성되는지 어떤 정보를 담고 있는지에 대한 기본적인 구조 (테이블의 헤더)
    - 속성 : 릴레이션 스키마의 열
    - 도메인 : 속성이 가질 수 있는 값의 집합
    - 차수 : 속성의 개수
- 인스턴스 : 정의된 스키마에 따라 테이블에 실제로 저장되는 데이터의 집합
    - 튜플 : 릴레이션의 행
    - 카디날리티 : 튜플의 수
- 릴레이션의 특징
    1. 속성은 단일 값을 가진다.
    2. 속성은 서로 다른 이름을 가진다.
    3. 한 속성의 값은 모두 같은 도메인 값을 가진다.
    4. 속성의 순서는 상관없다.
    5. 릴레이션 내의 중복된  튜플은 허용하지 않는다.
    6. 튜플의 순서는 상관 없다. 
- 관계 데이터 모델 : 데이터를 2차원 테이블 형태인 릴레이션으로 표현.  관계 데이터 모델을 컴퓨터 시스템에 구현한 것을 관계 데이터베이스 시스템이라고 한다.
    
    <aside>
    💡 릴레이션의 생성과 관리, 제약조건, 데이터 추출을 SQL로 수행한다.
    
    </aside>
    

## 2️⃣ 무결성 제약 조건

- 키 : 릴레이션에서 특정 튜플을 식별할 때 사용하는 속성 혹은 속성의 집합.
    - 슈퍼키 : 튜플을 **유일하게** 식별할 수 있는 하나의 속성 혹은 속성의 집합
    - 후보키 : 튜플을 유일하게 식별할 수 있는 속성의 **최소 집합**
    - 기본키 : 여러 후보키 중 하나를 선정하여 대표로 삼는 키
    - 대리키 : 마땅한 기본키가 없을 때 일련번호 같은 가상의 속성을 만들어 기본키로 삼는다.
    - 대체키 : 기본키로 선정되지 않은 후보키
    - 외래키 : 다른 릴레이션의 기본키를 참조하는 속성
- 무결성 제약조건 : 데이터 무결성은 데이터베이스에 저장된 **데이터의 일관성과 정확성을 지키는 것을 말한다.**
    - 도메인 무결성 제약조건 (도메인 제약): 릴레이션 내의 튜플들이 각 속성의 도메인에 지정된 값만을 가져야 한다는 조건
    - 개체 무결성 제약조건 (기본키 제약) : 기본키는 NULL값을 가져서는 안되며 릴레이션 내에 오직 하나의 값만 존재해야 한다는 조건
    - 참조 무결성 제약조건 (외래키 제약) : 릴레이션 간의 참조 관계를 선언하는 제약 조건
- 무결성 제약조건의 수행 : 제약조건의 준수여부는 데이터의 변경이 있을 때마다 확인해야 한다.

<aside>
💡 데이터베이스는 일관성을 유지하고 중복을 제거하는 등 데이터의 신뢰도를 유지해야 한다. 따라서 데이터베이스에 저장된 데이터는 결함이 없어야 하며 질의에 대해 신뢰성 있는 답을 제공해야 한다.

</aside>

## 3️⃣ 관계대수

- 관계 대수 : 릴레이션에서 원하는 결과를 얻기 위해 수학의 대수와 같은 연산을 이용하여 질의하는 방법을 기술하는 언어
- 셀렉션 : 릴레이션의 튜플을 추출하기 위한 연산
- 프로젝션 : 릴레이션의 속성을 추출하기 위한 연산
- 집합 연산 : 수학의 집합 연산과 같은 연산으로 합집합, 교집합, 차집합, 카티전 프로덕트 등이 있다.
    - 합집합 : 수학의 합집합과 동일한 개념으로 두 개의 릴레이션을 합하여 하나의 릴레이션을 반환한다.
    - 교집합 : 합병가능한 두 릴레이션을 대상으로 하며, 두 릴레이션이 공통으로 가지고 있는 튜플을 반환한다.
    - 차집합 : 첫 번째 릴레이션에는 속하고 두 번째 릴레이션에는 속하지 않는 튜플을 반환한다.
    - 카티전 프로덕트 : 두 릴레이션을 연결시켜 하나로 합칠 때 사용한다.
- 조인 : 두 릴레이션의 공통 속성을 기준으로 속성 값이 같은 튜플을 수평으로 결합하는 연산
    - 세타조인 : 조인에 참여하는 두 릴레이션의 속성 값을 비교하여 조건을 만족하는 튜플만 반환한다.
    - 동등조인 : 세타조인에서 = 연산자를 사용한 조인을 말한다.
    - 자연조인 : 동등조인에서 조인에 참여한 속성이 두 번 나오지 않도록 두 번째 속성을 제거한 결과를 반환한다.
    - 외부조인 : 자연조인의 확장된 형태로 자연조인에 실패한 튜플을 모두 보여주되 값이 없는 대응 속성에는 NULL 값을 채워서 반환한다.
    - 세미조인 : 자연조인을 한 후 두 릴레이션 중 한쪽 릴레이션의 결과만 반환한다.
- 디비전 : 다른 연산과 달리 릴레이션의 속성 값의 집합으로 연산을 수행