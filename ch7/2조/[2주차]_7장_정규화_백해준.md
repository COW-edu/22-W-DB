# 이상현상

## 삭제이상

- 투플 삭제 시 같이 저장된 다른 정보까지 연쇄적으로 삭제

## 삽입이상

- 투플 삽입 시 특정 속성에 해당하는 값이 없어 NULL값을 입력해야 함

## 수정이상

- 투플 수정 시 중복된 데이터의 일부만 수정되어 데이터의 불일치 문제 발생

# 함수 종속성

- 정규화 하기 위해 파악해야 하는 것
- 어떤 속성 A의 값을 알면 다른 속성 B의 값이 유일하게 정해지는 의존 관계를 '속성 B는 A에 종속한다' 라고 한다

## 함수 종속성 규칙

- 부분집합, 증가, 이행 규칙이 존재
  - 위 규칙을 통해 결합, 분해, 유사이행 규칙을 얻을 수 있다

## 함수 종속성과 기본키

- 함수 종속성 파악을 위해선 시본키가 필요
- 기본키는 릴레이션의 모든 속성에 대해 결정자임을 이해하자

# 이상현상과 결정자

- 이상현상은 기본키가 아니면서 결정자인 속성(비후보키 결정자 속성)이 있을 때 발생

분해를 통해 해결가능

- 단 최종 분해된 모습에서 릴레이션들이 데이터 간의 관계를 유지하는 공통 속성이 있어야 함

# 정규화

- 이상현상이 발생하는 릴레이션을 분해하여 이상현상을 없애는 과정

## 정규화 과정

### 제 1정규형

    릴레이션R의 모든 속석값이 원자값을 가짐

- 속성 값은 반드시 원자값이여야 한다

### 제 2정규형

    릴레이션R이 제 1정규형이고 기본키가 아닌 속성이 기본키에 완전 함수 종속

- 기본키가 복합키일 때, 복합키의 일부분이 다른 속성의 결정자인지 여부를 판단
- 기본키가 아닌 속성이 기본키에 불완전 함수 종속되어 있으면 이상현상 발생

### 제 3정규형

    릴레이션R이 제 2정규형이고 기본키가 아닌 속성이 기본키에 비이행적으로 종속할 때(직접 종속)

- 이행적으로 종속되어 있으면 이상현상 발생 (이행적 종속 : A->B, B->C 일 경우 A->C)

### BCNF

    릴레이션 R에서 함수 종속성 X->Y가 성립할 때 모든 결정자 X가 후보키면 BCNF 정규형

- 결정자이면서 후보키가 아닌 속성이 존재하면 이상현상 발생

## 무손실 분해

     릴레이션 R을 릴레이션 R1과 R2로 분해하고 다시 조인하면 원래의 릴레이션 R이 만들어 진다는 의미

- 분해된 릴레이션에 공통 속성을 한 개 이상 두어야 함

### 조건

- 공통된 속성이 R1이나 R2의 키여야 한다
